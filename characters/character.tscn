[gd_scene load_steps=22 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_85ra8"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="AudioStream" uid="uid://pmcht61tl7qt" path="res://sound/effects/dying/386030__taramg__deathgroan003.wav" id="3_r2hkv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="AnimationLibrary" uid="uid://crw5ru71bh6xc" path="res://animations/custom-attack-punch-kick-pack/custom-attack-punch-kick-pack.glb" id="4_ipa2e"]
[ext_resource type="AnimationLibrary" uid="uid://cr5nio0utun3w" path="res://animations/custom-dying-pack/custom-dying-pack.glb" id="5_5dwn7"]
[ext_resource type="AnimationLibrary" uid="uid://dooem8cdowvkb" path="res://animations/custom-jumping-falling-pack/custom-jumping-falling-pack.glb" id="6_wik1s"]
[ext_resource type="AnimationLibrary" uid="uid://cbacn6efdymri" path="res://animations/custom-locomotion-pack/custom-locomotion-pack.glb" id="7_j52m6"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="10_p3had"]

[sub_resource type="Resource" id="Resource_ibe1a"]
script = ExtResource("2_85ra8")
name = ""
current_level = 1
current_health = 100
max_health = 100
number_of_killes = 0
experiance_points = 0
is_auto_play = false

[sub_resource type="Animation" id="Animation_0gvn7"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ws2to"]
_data = {
"RESET": SubResource("Animation_0gvn7")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.273444
height = 1.81011

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.648288

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_cpgjw"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/replication_mode = 2

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound") groups=["interactable"]]
script = ExtResource("1_viqmd")
character_stats = SubResource("Resource_ibe1a")
dying_sound = NodePath("DyingSound")

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("1_5ogck")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")
libraries = {
"": SubResource("AnimationLibrary_ws2to"),
"custom-attack-punch-kick-pack": ExtResource("4_ipa2e"),
"custom-dying-pack": ExtResource("5_5dwn7"),
"custom-jumping-falling-pack": ExtResource("6_wik1s"),
"custom-locomotion-pack": ExtResource("7_j52m6")
}

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="GeneralSkeleton" parent="Clara/Armature" index="0"]
bones/0/position = Vector3(-0.00523728, 1.63799e-10, 0.00137404)
bones/1/position = Vector3(2.8356e-06, 0.819362, 2.56332e-07)
bones/1/rotation = Quaternion(0.10287, 0.0760651, -0.00504267, 0.991769)
bones/2/rotation = Quaternion(0.00128236, -0.144753, -0.0145189, 0.989361)
bones/3/rotation = Quaternion(0.0174434, -0.0193219, 0.025917, 0.999325)
bones/4/rotation = Quaternion(0.0452576, -0.0220164, 0.0218732, 0.998493)
bones/5/rotation = Quaternion(-0.00270918, 0.0120676, -0.010224, 0.999871)
bones/6/rotation = Quaternion(-0.143903, 0.0797632, -0.0155981, 0.986249)
bones/17/rotation = Quaternion(0.497558, 0.491308, 0.520718, -0.489801)
bones/18/rotation = Quaternion(0.204037, 0.850406, -0.414941, 0.251001)
bones/19/rotation = Quaternion(0.6239, -0.433522, 0.480411, 0.438193)
bones/20/rotation = Quaternion(-0.0637844, 0.626627, -0.00299584, 0.776699)
bones/21/rotation = Quaternion(-0.202825, 0.685261, 0.00659253, 0.699454)
bones/22/rotation = Quaternion(0.0815285, 0.0308534, 0.0353741, 0.995565)
bones/23/rotation = Quaternion(0.0252119, 0.0143942, -0.0128664, 0.999496)
bones/24/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/25/rotation = Quaternion(0.0254039, -5.80863e-06, -0.000996907, 0.999677)
bones/26/rotation = Quaternion(0.0864781, -0.000599685, -0.00662782, 0.996232)
bones/27/rotation = Quaternion(0.00830603, -5.44622e-07, -0.00095468, 0.999965)
bones/29/rotation = Quaternion(0.0295385, -0.000856489, 0.000109659, 0.999563)
bones/30/rotation = Quaternion(0.0909063, -0.000524556, -0.00578942, 0.995843)
bones/31/rotation = Quaternion(0.0083083, -1.22734e-05, -0.000935099, 0.999965)
bones/33/rotation = Quaternion(0.0299757, -0.00252127, -0.00118579, 0.999547)
bones/34/rotation = Quaternion(0.0914288, -7.38091e-05, -0.00624158, 0.995792)
bones/35/rotation = Quaternion(0.0617956, -0.000253886, -0.00676598, 0.998066)
bones/37/rotation = Quaternion(0.0279373, -0.00367668, -0.035861, 0.99896)
bones/38/rotation = Quaternion(0.0933889, 0.00361643, 0.0280297, 0.995229)
bones/39/rotation = Quaternion(0.0617894, -1.32835e-05, -0.00682803, 0.998066)
bones/45/rotation = Quaternion(0.479146, -0.509487, -0.499315, -0.511398)
bones/46/rotation = Quaternion(0.381023, 0.735927, -0.370933, 0.419097)
bones/47/rotation = Quaternion(0.579385, 0.481748, -0.442366, 0.486358)
bones/48/rotation = Quaternion(-0.183567, -0.642105, 0.0122212, 0.744214)
bones/49/rotation = Quaternion(-0.103705, -0.697838, -0.0972697, 0.702001)
bones/50/rotation = Quaternion(0.203661, -0.0677156, -0.0348107, 0.976076)
bones/51/rotation = Quaternion(0.0698909, -0.0290112, 0.0230009, 0.996867)
bones/52/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/53/rotation = Quaternion(0.0512319, 0.000729527, 0.00489122, 0.998675)
bones/54/rotation = Quaternion(0.170035, 0.00140193, 0.0169592, 0.985291)
bones/55/rotation = Quaternion(0.0211329, -0.000107082, 0.00240405, 0.999774)
bones/57/rotation = Quaternion(0.0531978, 0.000963779, 0.00418875, 0.998575)
bones/58/rotation = Quaternion(0.171421, 0.00158856, 0.0155561, 0.985074)
bones/59/rotation = Quaternion(0.0211495, 5.2863e-05, 0.00225541, 0.999774)
bones/61/rotation = Quaternion(0.0607333, 0.000366658, 0.00456782, 0.998144)
bones/62/rotation = Quaternion(0.17297, -0.000183545, 0.0155258, 0.984805)
bones/63/rotation = Quaternion(0.0211415, 0.000105655, 0.00232636, 0.999774)
bones/65/rotation = Quaternion(0.0599444, 0.000173617, 0.00365035, 0.998195)
bones/66/rotation = Quaternion(0.184425, -0.000266092, 0.015007, 0.982732)
bones/67/rotation = Quaternion(0.0541326, 4.17633e-05, 0.00570639, 0.998517)
bones/72/rotation = Quaternion(0.105181, -0.170932, 0.978658, -0.0441261)
bones/73/rotation = Quaternion(0.0364671, 0.995391, -0.0852043, -0.0246358)
bones/74/rotation = Quaternion(0.0238712, 0.779089, -0.62587, -0.0271485)
bones/75/rotation = Quaternion(0.00726039, 0.983758, 0.176159, 0.0336914)
bones/77/rotation = Quaternion(-0.00949895, 0.526438, 0.848827, 0.047609)
bones/78/rotation = Quaternion(0.0473466, 0.531939, -0.836485, -0.122851)
bones/79/rotation = Quaternion(-0.000123146, 0.636427, -0.771124, -0.0181134)
bones/80/rotation = Quaternion(0.000164024, 0.999999, 0.00134998, -0.000139377)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Clara/Armature/GeneralSkeleton" index="4"]
transform = Transform3D(0.998994, 0.0235577, -0.0381469, -0.0246476, 0.999294, -0.0283578, 0.0374519, 0.0292695, 0.99887, -0.00908428, 1.34579, 0.135541)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="Clara/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="." groups=["interactable"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813782, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." node_paths=PackedStringArray("character") instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")
character = NodePath("..")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("9_ohuyf")]
process_mode = 3
follow_node = NodePath("../Clara/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_r2hkv")

[node name="LevelUpEffect" parent="." instance=ExtResource("10_p3had")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.08608, 0)
billboard = 2
text = "Name"

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_cpgjw")

[editable path="CharacterAnimations"]
[editable path="Clara"]
