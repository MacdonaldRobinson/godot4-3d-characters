[gd_scene load_steps=15 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_85ra8"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="AudioStream" uid="uid://pmcht61tl7qt" path="res://sound/effects/dying/386030__taramg__deathgroan003.wav" id="3_r2hkv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="10_p3had"]

[sub_resource type="Resource" id="Resource_vrreg"]
script = ExtResource("2_85ra8")
name = "Player"
current_level = 1
current_health = 1000
max_health = 1000
number_of_killes = 0
experiance_points = 0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.522308
height = 1.90797

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.648288

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound")]
script = ExtResource("1_viqmd")
character_stats = SubResource("Resource_vrreg")
dying_sound = NodePath("DyingSound")

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("1_5ogck")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")
parameters/current_position = 6.77931
parameters/current_delta = 0.0209797
parameters/TimeScale/current_position = 6.77931
parameters/TimeScale/current_delta = 0.0209797
parameters/jump/current_position = 6.77931
parameters/jump/current_delta = 0.0209797
parameters/motion/current_position = 6.77931
parameters/motion/current_delta = 0.0209797
parameters/motion/0/current_position = 6.77931
parameters/motion/0/current_delta = 0.0209797
parameters/motion/6/current_position = 0.512655
parameters/motion/6/current_delta = 0.0209797
parameters/motion/9/current_position = 0.912608
parameters/motion/9/current_delta = 0.0209797
parameters/motion_state/current_position = 6.77931
parameters/motion_state/current_delta = 0.0209797
parameters/output/current_position = 6.77931
parameters/output/current_delta = 0.0209797

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="GeneralSkeleton" parent="Clara/Armature" index="0"]
bones/0/position = Vector3(0.00331922, 4.80989e-10, 0.00403483)
bones/1/position = Vector3(2.12266e-06, 0.827474, 3.33181e-07)
bones/1/rotation = Quaternion(-0.031793, -0.0615157, -0.035538, 0.996966)
bones/2/rotation = Quaternion(-0.0180176, -0.000772972, 0.0425963, 0.99893)
bones/3/rotation = Quaternion(-0.00669389, -0.00667963, 0.0527163, 0.998565)
bones/4/rotation = Quaternion(-0.00636774, -0.00811552, 0.0526828, 0.998558)
bones/5/rotation = Quaternion(0.0472881, 0.00438077, -0.0247436, 0.998565)
bones/6/rotation = Quaternion(0.0883201, 0.0322178, -0.0796171, 0.992382)
bones/17/rotation = Quaternion(0.550159, 0.446575, 0.510898, -0.486702)
bones/18/rotation = Quaternion(0.0498623, 0.748208, -0.644178, -0.150775)
bones/19/rotation = Quaternion(0.086526, -0.701785, 0.0865262, 0.701801)
bones/20/rotation = Quaternion(0.0936938, 0.703082, 0.0034233, 0.704901)
bones/21/rotation = Quaternion(-0.154906, 0.734731, 0.104903, 0.652051)
bones/22/rotation = Quaternion(0.184734, 0.0561372, -0.0106077, 0.981127)
bones/23/rotation = Quaternion(0.164727, 0.032396, 0.0383239, 0.985062)
bones/24/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/25/rotation = Quaternion(0.0644482, -0.000422582, -0.00117481, 0.99792)
bones/26/rotation = Quaternion(0.223099, -3.11434e-06, -0.0270291, 0.974421)
bones/27/rotation = Quaternion(0.141237, -1.93715e-06, -0.0171112, 0.989828)
bones/29/rotation = Quaternion(0.100137, -1.02073e-05, -0.012042, 0.994901)
bones/30/rotation = Quaternion(0.247171, -2.38419e-06, -0.0299454, 0.968509)
bones/31/rotation = Quaternion(0.193741, -1.98185e-06, -0.0234723, 0.980772)
bones/33/rotation = Quaternion(0.123325, -0.000510336, -0.0108168, 0.992307)
bones/34/rotation = Quaternion(0.285859, -5.06949e-06, -0.0346327, 0.957646)
bones/35/rotation = Quaternion(0.218393, -3.8481e-06, -0.0264592, 0.975502)
bones/37/rotation = Quaternion(0.137057, 0.00233082, -0.0329535, 0.990012)
bones/38/rotation = Quaternion(0.186943, 0.00647618, 0.0126502, 0.982268)
bones/39/rotation = Quaternion(0.374928, -1.31026e-06, -0.0454238, 0.92594)
bones/45/rotation = Quaternion(0.527122, -0.460875, -0.561489, -0.440984)
bones/46/rotation = Quaternion(0.0734297, 0.859032, -0.490533, 0.12669)
bones/47/rotation = Quaternion(0.0895694, 0.701419, -0.0895697, 0.701403)
bones/48/rotation = Quaternion(0.00132553, -0.637187, 0.0373041, 0.769805)
bones/49/rotation = Quaternion(-0.161417, -0.684121, -0.119163, 0.70123)
bones/50/rotation = Quaternion(0.132017, -0.16034, 0.015083, 0.978077)
bones/51/rotation = Quaternion(0.14163, 0.0185132, 0.0228917, 0.989482)
bones/52/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/53/rotation = Quaternion(0.0824338, -2.52443e-05, 0.0103642, 0.996543)
bones/54/rotation = Quaternion(0.114692, -1.53072e-06, 0.0140276, 0.993302)
bones/55/rotation = Quaternion(0.0934604, -1.17682e-06, 0.0114309, 0.995557)
bones/57/rotation = Quaternion(0.097988, 1.66329e-06, 0.011955, 0.995116)
bones/58/rotation = Quaternion(0.207772, -2.60155e-06, 0.0254121, 0.977847)
bones/59/rotation = Quaternion(-0.0559229, -4.52967e-05, -0.00683722, 0.998412)
bones/61/rotation = Quaternion(0.108186, 9.32921e-05, 0.0123536, 0.994054)
bones/62/rotation = Quaternion(0.217561, -1.14534e-06, 0.0266094, 0.975684)
bones/63/rotation = Quaternion(0.00287232, -4.56483e-05, 0.000351117, 0.999996)
bones/65/rotation = Quaternion(0.0914663, 0.000309158, 0.00779124, 0.995778)
bones/66/rotation = Quaternion(0.211988, 7.15256e-07, 0.0259277, 0.976928)
bones/67/rotation = Quaternion(-0.0114496, 2.62038e-07, -0.00140032, 0.999933)
bones/72/rotation = Quaternion(0.135625, 0.176468, 0.967612, -0.119131)
bones/73/rotation = Quaternion(-0.0262507, 0.987607, -0.151408, -0.0319359)
bones/74/rotation = Quaternion(-0.0623719, 0.743079, -0.664902, 0.0429923)
bones/75/rotation = Quaternion(0.000382563, 0.999805, -0.0197425, -0.000867117)
bones/77/rotation = Quaternion(-0.0799259, 0.0318209, 0.994976, -0.0512082)
bones/78/rotation = Quaternion(-0.00132508, 0.978107, -0.201555, -0.0517664)
bones/79/rotation = Quaternion(-0.00934654, 0.600653, -0.799428, 0.00659044)
bones/80/rotation = Quaternion(4.30019e-05, 0.999997, 0.00231428, -0.000102892)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Clara/Armature/GeneralSkeleton" index="4"]
transform = Transform3D(0.998577, -0.0308642, -0.0434885, 0.024789, 0.990685, -0.133897, 0.047216, 0.132628, 0.990041, -0.0577809, 1.35597, -0.0692741)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="Clara/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813782, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("9_ohuyf")]
process_mode = 3
follow_node = NodePath("../Clara/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_r2hkv")

[node name="LevelUpEffect" parent="." instance=ExtResource("10_p3had")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.08608, 0)
billboard = 2
text = "Name"

[editable path="CharacterAnimations"]
[editable path="Clara"]
