[gd_scene load_steps=22 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_85ra8"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="AudioStream" uid="uid://pmcht61tl7qt" path="res://sound/effects/dying/386030__taramg__deathgroan003.wav" id="3_r2hkv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="AnimationLibrary" uid="uid://crw5ru71bh6xc" path="res://animations/custom-attack-punch-kick-pack/custom-attack-punch-kick-pack.glb" id="4_ipa2e"]
[ext_resource type="AnimationLibrary" uid="uid://cr5nio0utun3w" path="res://animations/custom-dying-pack/custom-dying-pack.glb" id="5_5dwn7"]
[ext_resource type="AnimationLibrary" uid="uid://dooem8cdowvkb" path="res://animations/custom-jumping-falling-pack/custom-jumping-falling-pack.glb" id="6_wik1s"]
[ext_resource type="AnimationLibrary" uid="uid://cbacn6efdymri" path="res://animations/custom-locomotion-pack/custom-locomotion-pack.glb" id="7_j52m6"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="10_p3had"]

[sub_resource type="Resource" id="Resource_ibe1a"]
script = ExtResource("2_85ra8")
name = ""
current_level = 1
current_health = 100
max_health = 100
number_of_killes = 0
experiance_points = 0
is_auto_play = false

[sub_resource type="Animation" id="Animation_0gvn7"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ws2to"]
_data = {
"RESET": SubResource("Animation_0gvn7")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.273444
height = 1.81011

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.648288

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_cpgjw"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/replication_mode = 2

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound") groups=["interactable"]]
script = ExtResource("1_viqmd")
character_stats = SubResource("Resource_ibe1a")
dying_sound = NodePath("DyingSound")

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("1_5ogck")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")
libraries = {
"": SubResource("AnimationLibrary_ws2to"),
"custom-attack-punch-kick-pack": ExtResource("4_ipa2e"),
"custom-dying-pack": ExtResource("5_5dwn7"),
"custom-jumping-falling-pack": ExtResource("6_wik1s"),
"custom-locomotion-pack": ExtResource("7_j52m6")
}

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="GeneralSkeleton" parent="Clara/Armature" index="0"]
bones/0/position = Vector3(-0.00523728, 1.63799e-10, 0.00137404)
bones/1/position = Vector3(2.54641e-06, 0.822654, 3.49137e-07)
bones/1/rotation = Quaternion(0.103622, 0.0725477, 0.0130366, 0.991882)
bones/2/rotation = Quaternion(-0.0188234, -0.150068, -0.0227652, 0.988234)
bones/3/rotation = Quaternion(0.0216886, -0.0200882, 0.0269149, 0.999201)
bones/4/rotation = Quaternion(0.0551542, -0.0234047, 0.0218349, 0.997965)
bones/5/rotation = Quaternion(-0.00736952, 0.0141411, -0.0107459, 0.999815)
bones/6/rotation = Quaternion(-0.136449, 0.0840469, -0.0226501, 0.986816)
bones/17/rotation = Quaternion(0.496508, 0.48892, 0.530869, -0.482301)
bones/18/rotation = Quaternion(0.183506, 0.878971, -0.415941, 0.143979)
bones/19/rotation = Quaternion(0.664969, -0.383426, 0.512103, 0.385424)
bones/20/rotation = Quaternion(-0.165132, 0.586826, -0.0657753, 0.789962)
bones/21/rotation = Quaternion(-0.203359, 0.687976, 0.00828301, 0.69661)
bones/22/rotation = Quaternion(0.0815286, 0.0308534, 0.0353742, 0.995565)
bones/23/rotation = Quaternion(0.0252119, 0.0143943, -0.0128663, 0.999496)
bones/24/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/25/rotation = Quaternion(0.0239333, 0.000167952, -0.000613263, 0.999713)
bones/26/rotation = Quaternion(0.0842962, -0.00051131, -0.00687311, 0.996417)
bones/27/rotation = Quaternion(0.00823673, -5.29604e-07, -0.000946733, 0.999966)
bones/29/rotation = Quaternion(0.0281041, -0.000664011, 0.000350678, 0.999605)
bones/30/rotation = Quaternion(0.0887203, -0.000477251, -0.00600346, 0.996038)
bones/31/rotation = Quaternion(0.00823897, -1.21713e-05, -0.000927307, 0.999966)
bones/33/rotation = Quaternion(0.0285829, -0.00216527, -0.00108759, 0.999589)
bones/34/rotation = Quaternion(0.089233, -6.46294e-05, -0.0063449, 0.995991)
bones/35/rotation = Quaternion(0.0617264, -0.000253586, -0.00675842, 0.99807)
bones/37/rotation = Quaternion(0.0265953, -0.00320619, -0.0359018, 0.998996)
bones/38/rotation = Quaternion(0.0911947, 0.00346415, 0.0280428, 0.995432)
bones/39/rotation = Quaternion(0.0617202, -1.33015e-05, -0.00682038, 0.99807)
bones/45/rotation = Quaternion(0.477046, -0.509768, -0.501741, -0.510704)
bones/46/rotation = Quaternion(0.443287, 0.718593, -0.402753, 0.353427)
bones/47/rotation = Quaternion(0.582272, 0.477289, -0.448311, 0.481842)
bones/48/rotation = Quaternion(-0.19269, -0.608791, 0.00218881, 0.769571)
bones/49/rotation = Quaternion(-0.114747, -0.695692, -0.108474, 0.700771)
bones/50/rotation = Quaternion(0.184274, -0.066394, -0.0319238, 0.98011)
bones/51/rotation = Quaternion(0.059804, -0.0278075, 0.0247679, 0.997515)
bones/52/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/53/rotation = Quaternion(0.0734813, 0.000694991, 0.00785202, 0.997266)
bones/54/rotation = Quaternion(0.192518, 0.00140183, 0.0198507, 0.981092)
bones/55/rotation = Quaternion(0.0332315, -0.000168289, 0.00378048, 0.999441)
bones/57/rotation = Quaternion(0.0760915, 0.000842409, 0.00693773, 0.997076)
bones/58/rotation = Quaternion(0.19376, 0.00158906, 0.0182906, 0.980877)
bones/59/rotation = Quaternion(0.0332577, 8.31364e-05, 0.00354665, 0.999441)
bones/61/rotation = Quaternion(0.096517, 0.000323819, 0.00897206, 0.995291)
bones/62/rotation = Quaternion(0.206003, -0.000153504, 0.0194894, 0.978357)
bones/63/rotation = Quaternion(0.0332453, 0.000166192, 0.00365816, 0.999441)
bones/65/rotation = Quaternion(0.0957624, 0.000170287, 0.0078387, 0.995373)
bones/66/rotation = Quaternion(0.222966, 2.15534e-05, 0.0193227, 0.974635)
bones/67/rotation = Quaternion(0.107164, 8.25322e-05, 0.0112967, 0.994177)
bones/72/rotation = Quaternion(0.0459311, -0.254221, 0.965652, -0.0278965)
bones/73/rotation = Quaternion(0.0155628, 0.939244, -0.341256, -0.0334969)
bones/74/rotation = Quaternion(0.0185365, 0.803271, -0.595219, -0.0112094)
bones/75/rotation = Quaternion(-0.00085918, 0.999984, 0.0054559, 0.00114093)
bones/77/rotation = Quaternion(0.0248037, 0.521868, 0.849359, 0.0750211)
bones/78/rotation = Quaternion(-0.00420772, 0.866042, -0.484725, -0.122452)
bones/79/rotation = Quaternion(0.00704609, 0.729248, -0.68152, -0.060651)
bones/80/rotation = Quaternion(-8.70716e-05, 0.999967, 0.00807279, -3.58571e-05)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Clara/Armature/GeneralSkeleton" index="4"]
transform = Transform3D(0.998902, 0.0123289, -0.0451963, -0.0135766, 0.999532, -0.0274045, 0.0448372, 0.027988, 0.998602, -0.0236379, 1.35068, 0.127185)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="Clara/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="." groups=["interactable"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813782, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." node_paths=PackedStringArray("character") instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")
character = NodePath("..")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("9_ohuyf")]
process_mode = 3
follow_node = NodePath("../Clara/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_r2hkv")

[node name="LevelUpEffect" parent="." instance=ExtResource("10_p3had")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.08608, 0)
billboard = 2
text = "Name"

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_cpgjw")

[editable path="CharacterAnimations"]
[editable path="Clara"]
