[gd_scene load_steps=22 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_85ra8"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="AudioStream" uid="uid://pmcht61tl7qt" path="res://sound/effects/dying/386030__taramg__deathgroan003.wav" id="3_r2hkv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="AnimationLibrary" uid="uid://crw5ru71bh6xc" path="res://animations/custom-attack-punch-kick-pack/custom-attack-punch-kick-pack.glb" id="4_ipa2e"]
[ext_resource type="AnimationLibrary" uid="uid://cr5nio0utun3w" path="res://animations/custom-dying-pack/custom-dying-pack.glb" id="5_5dwn7"]
[ext_resource type="AnimationLibrary" uid="uid://dooem8cdowvkb" path="res://animations/custom-jumping-falling-pack/custom-jumping-falling-pack.glb" id="6_wik1s"]
[ext_resource type="AnimationLibrary" uid="uid://cbacn6efdymri" path="res://animations/custom-locomotion-pack/custom-locomotion-pack.glb" id="7_j52m6"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="10_p3had"]

[sub_resource type="Resource" id="Resource_ibe1a"]
script = ExtResource("2_85ra8")
name = ""
current_level = 1
current_health = 100
max_health = 100
number_of_killes = 0
experiance_points = 0
is_auto_play = false

[sub_resource type="Animation" id="Animation_0gvn7"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ws2to"]
_data = {
"RESET": SubResource("Animation_0gvn7")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.273444
height = 1.81011

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.648288

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_cpgjw"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/replication_mode = 2

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound") groups=["interactable"]]
script = ExtResource("1_viqmd")
character_stats = SubResource("Resource_ibe1a")
dying_sound = NodePath("DyingSound")

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("1_5ogck")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")
libraries = {
"": SubResource("AnimationLibrary_ws2to"),
"custom-attack-punch-kick-pack": ExtResource("4_ipa2e"),
"custom-dying-pack": ExtResource("5_5dwn7"),
"custom-jumping-falling-pack": ExtResource("6_wik1s"),
"custom-locomotion-pack": ExtResource("7_j52m6")
}

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")
parameters/current_position = 0.355795
parameters/current_delta = 0.016691
"parameters/Animation 10/current_length" = 0.966667
"parameters/Animation 10/current_position" = 0.678123
"parameters/Animation 10/current_delta" = 0.0416667
"parameters/Animation 9/current_length" = 1.4
"parameters/Animation 9/current_position" = 0.9774
"parameters/Animation 9/current_delta" = 0.0344887
parameters/TimeScale/current_position = 0.355795
parameters/TimeScale/current_delta = 0.016691
parameters/jump/current_position = 0.355795
parameters/jump/current_delta = 0.016691
parameters/motion/current_position = 0.355795
parameters/motion/current_delta = 0.016691
parameters/motion/0/current_position = 4.49068
parameters/motion/0/current_delta = 0.0666667
parameters/motion/1/current_position = 0.355795
parameters/motion/1/current_delta = 0.016691
parameters/motion/5/current_position = 0.222462
parameters/motion/5/current_delta = 0.016691
parameters/motion/6/current_position = 0.257343
parameters/motion/6/current_delta = 0.0666667
parameters/motion/9/current_position = 0.055795
parameters/motion/9/current_delta = 0.016691
parameters/motion_state/current_position = 0.355795
parameters/motion_state/current_delta = 0.016691
parameters/output/current_position = 0.355795
parameters/output/current_delta = 0.016691

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="GeneralSkeleton" parent="Clara/Armature" index="0"]
bones/0/position = Vector3(-0.00523728, 1.63799e-10, 0.00137404)
bones/1/position = Vector3(1.08863e-05, 0.727671, 3.4296e-07)
bones/1/rotation = Quaternion(-0.0432517, -0.362412, 0.0201448, 0.930796)
bones/2/rotation = Quaternion(0.0815656, 0.0630431, -0.0105438, 0.994616)
bones/3/rotation = Quaternion(0.0191043, 0.00852316, -0.00785937, 0.99975)
bones/4/rotation = Quaternion(0.0192424, 0.00845776, -0.00767008, 0.99975)
bones/5/rotation = Quaternion(0.00562894, 0.114871, 0.0396107, 0.992574)
bones/6/rotation = Quaternion(0.0711118, 0.176986, -0.0224524, 0.981384)
bones/17/rotation = Quaternion(0.546511, 0.44326, 0.52263, -0.481356)
bones/18/rotation = Quaternion(0.153297, 0.796992, -0.405919, 0.420159)
bones/19/rotation = Quaternion(0.56745, -0.421851, 0.56745, 0.421952)
bones/20/rotation = Quaternion(0.137298, 0.712107, -0.0443169, 0.687088)
bones/21/rotation = Quaternion(-0.2573, 0.602873, 0.3087, 0.689235)
bones/22/rotation = Quaternion(0.359307, 0.108531, 0.00449523, 0.926876)
bones/23/rotation = Quaternion(0.0695443, 0.147583, -0.185802, 0.968948)
bones/24/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/25/rotation = Quaternion(0.389009, -0.00942074, -0.0280176, 0.92076)
bones/26/rotation = Quaternion(0.691523, -8.80845e-06, -0.0708653, 0.71887)
bones/27/rotation = Quaternion(0.428369, -5.33462e-06, -0.0438979, 0.902537)
bones/29/rotation = Quaternion(0.339678, -0.0151757, -0.0301553, 0.939936)
bones/30/rotation = Quaternion(0.738473, -6.80797e-06, -0.0756765, 0.670023)
bones/31/rotation = Quaternion(0.430413, -3.8743e-06, -0.0441075, 0.901554)
bones/33/rotation = Quaternion(0.339885, -0.0108984, -0.0421357, 0.939459)
bones/34/rotation = Quaternion(0.831423, -1.39028e-05, -0.0852018, 0.549068)
bones/35/rotation = Quaternion(0.52084, -8.73208e-06, -0.0533743, 0.851984)
bones/37/rotation = Quaternion(0.385731, -0.0604846, -0.0602972, 0.91865)
bones/38/rotation = Quaternion(0.67227, -0.000312544, -0.0688916, 0.737093)
bones/39/rotation = Quaternion(0.858202, -2.39909e-06, -0.0879463, 0.505722)
bones/45/rotation = Quaternion(0.408728, -0.563233, -0.541517, -0.471667)
bones/46/rotation = Quaternion(-0.426004, 0.728106, -0.51512, -0.151768)
bones/47/rotation = Quaternion(0.564826, 0.425457, -0.564826, 0.425359)
bones/48/rotation = Quaternion(0.153288, -0.654661, -0.0692178, 0.736974)
bones/49/rotation = Quaternion(-0.268898, -0.590571, -0.32104, 0.689821)
bones/50/rotation = Quaternion(0.374225, -0.112296, -0.00113434, 0.920513)
bones/51/rotation = Quaternion(0.122542, -0.168218, 0.184828, 0.960481)
bones/52/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/53/rotation = Quaternion(0.383499, 0.00897881, 0.0188025, 0.923306)
bones/54/rotation = Quaternion(0.69285, -5.72205e-06, 0.0564412, 0.718869)
bones/55/rotation = Quaternion(0.42919, -3.7998e-06, 0.0349627, 0.902537)
bones/57/rotation = Quaternion(0.334106, 0.0148094, 0.0219024, 0.942165)
bones/58/rotation = Quaternion(0.73989, -5.78072e-06, 0.060273, 0.670023)
bones/59/rotation = Quaternion(0.431239, -3.30806e-06, 0.0351298, 0.901554)
bones/61/rotation = Quaternion(0.334559, 0.010608, 0.0339035, 0.941705)
bones/62/rotation = Quaternion(0.833018, -5.51343e-07, 0.0678596, 0.549069)
bones/63/rotation = Quaternion(0.521839, -1.71363e-07, 0.0425102, 0.851984)
bones/65/rotation = Quaternion(0.380948, 0.0603569, 0.0508198, 0.921224)
bones/66/rotation = Quaternion(0.67356, 5.08875e-06, 0.0548696, 0.737093)
bones/67/rotation = Quaternion(0.859848, -1.17496e-05, 0.0700452, 0.505722)
bones/72/rotation = Quaternion(0.108611, 0.265966, 0.950194, -0.120816)
bones/73/rotation = Quaternion(-0.00411685, 0.868035, -0.491974, -0.0667827)
bones/74/rotation = Quaternion(-0.140788, 0.545723, -0.826032, 0.00601803)
bones/75/rotation = Quaternion(-9.71353e-09, 0.999903, 0.0139117, 4.93908e-10)
bones/77/rotation = Quaternion(-0.140894, 0.193267, 0.947663, 0.2115)
bones/78/rotation = Quaternion(0.100841, 0.863382, -0.492551, -0.0423808)
bones/79/rotation = Quaternion(0.124359, 0.519424, -0.834069, -0.138066)
bones/80/rotation = Quaternion(8.49522e-08, 0.999923, 0.0124066, 2.96345e-08)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Clara/Armature/GeneralSkeleton" index="4"]
transform = Transform3D(0.986094, -0.160867, 0.0417091, 0.166184, 0.955871, -0.242269, -0.000895172, 0.245832, 0.969312, -0.0541568, 1.26842, 0.0304309)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="Clara/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813782, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." node_paths=PackedStringArray("character") instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")
character = NodePath("..")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("9_ohuyf")]
process_mode = 3
follow_node = NodePath("../Clara/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_r2hkv")

[node name="LevelUpEffect" parent="." instance=ExtResource("10_p3had")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.08608, 0)
billboard = 2
text = "Name"

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_cpgjw")

[editable path="CharacterAnimations"]
[editable path="Clara"]
