[gd_scene load_steps=21 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_85ra8"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="AudioStream" uid="uid://pmcht61tl7qt" path="res://sound/effects/dying/386030__taramg__deathgroan003.wav" id="3_r2hkv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="AnimationLibrary" uid="uid://crw5ru71bh6xc" path="res://animations/custom-attack-punch-kick-pack/custom-attack-punch-kick-pack.glb" id="4_ipa2e"]
[ext_resource type="AnimationLibrary" uid="uid://cr5nio0utun3w" path="res://animations/custom-dying-pack/custom-dying-pack.glb" id="5_5dwn7"]
[ext_resource type="AnimationLibrary" uid="uid://dooem8cdowvkb" path="res://animations/custom-jumping-falling-pack/custom-jumping-falling-pack.glb" id="6_wik1s"]
[ext_resource type="AnimationLibrary" uid="uid://cbacn6efdymri" path="res://animations/custom-locomotion-pack/custom-locomotion-pack.glb" id="7_j52m6"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="10_p3had"]

[sub_resource type="Resource" id="Resource_ibe1a"]
script = ExtResource("2_85ra8")
name = ""
current_level = 1
current_health = 100
max_health = 100
number_of_killes = 0
experiance_points = 0
is_auto_play = false

[sub_resource type="Animation" id="Animation_0gvn7"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ws2to"]
_data = {
"RESET": SubResource("Animation_0gvn7")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.273444
height = 1.81011

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.790826

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound") groups=["interactable"]]
script = ExtResource("1_viqmd")
character_stats = SubResource("Resource_ibe1a")
dying_sound = NodePath("DyingSound")

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("1_5ogck")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")
libraries = {
"": SubResource("AnimationLibrary_ws2to"),
"custom-attack-punch-kick-pack": ExtResource("4_ipa2e"),
"custom-dying-pack": ExtResource("5_5dwn7"),
"custom-jumping-falling-pack": ExtResource("6_wik1s"),
"custom-locomotion-pack": ExtResource("7_j52m6")
}

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="GeneralSkeleton" parent="Clara/Armature" index="0"]
bones/0/position = Vector3(-0.00523728, 1.63799e-10, 0.00137404)
bones/1/position = Vector3(2.93494e-06, 0.818229, 2.2311e-07)
bones/1/rotation = Quaternion(0.101242, 0.0765507, -0.00179523, 0.991911)
bones/2/rotation = Quaternion(0.0209274, -0.134376, -0.0215439, 0.990475)
bones/3/rotation = Quaternion(0.0130636, -0.0173168, 0.0286691, 0.999354)
bones/4/rotation = Quaternion(0.0358979, -0.0202813, 0.0250932, 0.998835)
bones/5/rotation = Quaternion(-0.000856203, 0.00965726, -0.0105187, 0.999898)
bones/6/rotation = Quaternion(-0.154167, 0.0688864, -0.012818, 0.985557)
bones/17/rotation = Quaternion(0.497457, 0.489072, 0.527508, -0.484851)
bones/18/rotation = Quaternion(0.185914, 0.85013, -0.43557, 0.230205)
bones/19/rotation = Quaternion(0.61577, -0.442104, 0.475337, 0.446572)
bones/20/rotation = Quaternion(-0.046797, 0.658231, 0.00934253, 0.751302)
bones/21/rotation = Quaternion(-0.204097, 0.686117, 0.0147146, 0.69812)
bones/22/rotation = Quaternion(0.0758476, 0.0301532, 0.0342556, 0.996075)
bones/23/rotation = Quaternion(0.0223711, 0.014019, -0.013461, 0.999561)
bones/24/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/25/rotation = Quaternion(0.024052, 0.000120225, -0.000766579, 0.999711)
bones/26/rotation = Quaternion(0.0830694, -0.000452147, -0.00706947, 0.996519)
bones/27/rotation = Quaternion(0.00832238, -5.48166e-07, -0.000956555, 0.999965)
bones/29/rotation = Quaternion(0.0282154, -0.000723156, 0.000216558, 0.999602)
bones/30/rotation = Quaternion(0.087491, -0.00044649, -0.00617944, 0.996146)
bones/31/rotation = Quaternion(0.00832465, -1.22975e-05, -0.000936937, 0.999965)
bones/33/rotation = Quaternion(0.0286849, -0.00224075, -0.00119868, 0.999585)
bones/34/rotation = Quaternion(0.0879972, -5.89288e-05, -0.00644497, 0.9961)
bones/35/rotation = Quaternion(0.0618119, -0.000253957, -0.00676777, 0.998065)
bones/37/rotation = Quaternion(0.0266865, -0.00328322, -0.0359911, 0.99899)
bones/38/rotation = Quaternion(0.0899597, 0.00336888, 0.0280181, 0.995546)
bones/39/rotation = Quaternion(0.0618057, -1.32792e-05, -0.00682983, 0.998065)
bones/45/rotation = Quaternion(0.482806, -0.506846, -0.502019, -0.507919)
bones/46/rotation = Quaternion(0.358408, 0.75282, -0.389084, 0.391688)
bones/47/rotation = Quaternion(0.56545, 0.495695, -0.433818, 0.496342)
bones/48/rotation = Quaternion(-0.200842, -0.666639, 0.0317047, 0.717113)
bones/49/rotation = Quaternion(-0.113453, -0.697918, -0.0949829, 0.700726)
bones/50/rotation = Quaternion(0.196178, -0.0673225, -0.0328943, 0.977701)
bones/51/rotation = Quaternion(0.0664891, -0.0286055, 0.0235973, 0.997098)
bones/52/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/53/rotation = Quaternion(0.047615, 0.000769598, 0.00420652, 0.998857)
bones/54/rotation = Quaternion(0.166496, 0.00148135, 0.0161877, 0.985908)
bones/55/rotation = Quaternion(0.0185529, -9.40083e-05, 0.00211057, 0.999826)
bones/57/rotation = Quaternion(0.0495602, 0.00102811, 0.00344439, 0.998765)
bones/58/rotation = Quaternion(0.167769, 0.00163748, 0.0148277, 0.985714)
bones/59/rotation = Quaternion(0.0185675, 4.64226e-05, 0.00198006, 0.999826)
bones/61/rotation = Quaternion(0.0543772, 0.000373451, 0.00353051, 0.998514)
bones/62/rotation = Quaternion(0.169418, -0.000163279, 0.01486, 0.985432)
bones/63/rotation = Quaternion(0.0185606, 9.27641e-05, 0.00204235, 0.999826)
bones/65/rotation = Quaternion(0.0535062, 0.00012902, 0.00256324, 0.998564)
bones/66/rotation = Quaternion(0.177596, -0.000365134, 0.0140432, 0.984003)
bones/67/rotation = Quaternion(0.0420173, 3.24054e-05, 0.00442924, 0.999107)
bones/72/rotation = Quaternion(0.093574, -0.101669, 0.989832, -0.0337605)
bones/73/rotation = Quaternion(0.0432633, 0.990121, -0.12841, -0.0360581)
bones/74/rotation = Quaternion(0.0170798, 0.727904, -0.683048, -0.0575225)
bones/75/rotation = Quaternion(0.00650781, 0.985096, 0.170502, 0.0217335)
bones/77/rotation = Quaternion(-0.0166962, 0.472652, 0.880017, 0.0434935)
bones/78/rotation = Quaternion(0.0522505, 0.461085, -0.878499, -0.113619)
bones/79/rotation = Quaternion(-0.00166843, 0.586326, -0.810059, -0.00484572)
bones/80/rotation = Quaternion(0.000666648, 0.99996, 0.00897561, -0.000385453)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Clara/Armature/GeneralSkeleton" index="4"]
transform = Transform3D(0.999105, 0.0202321, -0.0371386, -0.0209693, 0.999589, -0.0195685, 0.0367273, 0.0203298, 0.999119, -0.00818128, 1.34275, 0.143301)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="Clara/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.814, 0)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." node_paths=PackedStringArray("character") instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")
character = NodePath("..")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("9_ohuyf")]
process_mode = 3
follow_node = NodePath("../Clara/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_r2hkv")

[node name="LevelUpEffect" parent="." instance=ExtResource("10_p3had")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.08608, 0)
billboard = 2
text = "Name"

[editable path="CharacterAnimations"]
[editable path="Clara"]
