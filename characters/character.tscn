[gd_scene load_steps=13 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="AudioStream" uid="uid://b73u3tpje4o5b" path="res://sound/effects/390758__d00121058__fx_003_footstep_gravel_l.wav" id="6_6sg77"]
[ext_resource type="AudioStream" uid="uid://bnvpi1gr14gwf" path="res://sound/effects/dying/37823__the_bizniss__demon-dying.wav" id="7_fiubo"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.522308
height = 1.90797

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.648288

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[node name="Character" type="CharacterBody3D"]
script = ExtResource("1_viqmd")

[node name="CharacterAnimations" parent="." instance=ExtResource("1_5ogck")]

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")
parameters/current_position = 3.29103
"parameters/Animation 3/current_position" = 3.29103
"parameters/Animation 6/current_delta" = 0.0283028
parameters/TimeScale/current_length = 0.666667
parameters/TimeScale/current_position = 0.559374
parameters/TimeScale/current_delta = 0.025
parameters/TimeScale/scale = 1.5
"parameters/TimeScale 2/current_delta" = 0.0465909
"parameters/TimeScale 2/scale" = 1.5
parameters/attack_state/current_delta = 0.0283028
parameters/jump/current_position = 3.29103
parameters/jump_direction/current_delta = 0.0465909
parameters/jump_direction/blend_position = Vector2(0.00143886, 0.00757575)
parameters/jump_direction/3/current_length = 0.866667
parameters/jump_direction/3/current_position = 0.866667
parameters/jump_direction/3/current_delta = 0.0
parameters/jump_direction/4/current_delta = 0.0465909
parameters/motion/current_length = 0.666667
parameters/motion/current_position = 0.559374
parameters/motion/current_delta = 0.025
parameters/motion/blend_position = Vector2(-0.00141442, 1.06061)
parameters/motion/0/current_position = 1.00915
parameters/motion/0/current_delta = 0.025
parameters/motion/1/current_position = 0.559374
parameters/motion/1/current_delta = 0.025
parameters/motion/2/current_length = 0.666667
parameters/motion/2/current_position = 0.121084
parameters/motion/2/current_delta = 0.025
parameters/motion/3/current_position = 0.316083
parameters/motion/4/current_length = 0.7
parameters/motion/4/current_position = 0.173608
parameters/motion/4/current_delta = 0.025
parameters/motion/5/current_position = 0.466809
parameters/motion/6/current_position = 0.492708
parameters/motion/6/current_delta = 0.025
parameters/motion/7/current_position = 0.723214
parameters/motion/7/current_delta = 0.025
parameters/motion/8/current_length = 0.766667
parameters/motion/8/current_position = 0.00102753
parameters/motion/8/current_delta = 0.025
parameters/motion/9/current_position = 0.159374
parameters/motion/9/current_delta = 0.025
parameters/motion/10/current_length = 1.23333
parameters/motion/10/current_position = 0.367694
parameters/motion/10/current_delta = 0.025
parameters/motion/11/current_length = 1.06667
parameters/motion/11/current_position = 0.108021
parameters/motion/11/current_delta = 0.025
parameters/motion/12/current_length = 1.06667
parameters/motion/12/current_position = 0.475815
parameters/motion/12/current_delta = 0.025
parameters/motion_attack/current_position = 3.29103
parameters/motion_state/current_position = 3.29103
parameters/output/current_position = 3.29103

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="CameraLookAtPoint" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.48014, 0)

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813782, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")
max_health = 100
current_health = 100

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node") instance=ExtResource("9_ohuyf")]
follow_node = NodePath("../CameraLookAtPoint")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("6_6sg77")
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("7_fiubo")

[editable path="CharacterAnimations"]
