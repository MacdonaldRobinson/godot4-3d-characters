[gd_scene load_steps=22 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_85ra8"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="AudioStream" uid="uid://pmcht61tl7qt" path="res://sound/effects/dying/386030__taramg__deathgroan003.wav" id="3_r2hkv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="AnimationLibrary" uid="uid://crw5ru71bh6xc" path="res://animations/custom-attack-punch-kick-pack/custom-attack-punch-kick-pack.glb" id="4_ipa2e"]
[ext_resource type="AnimationLibrary" uid="uid://cr5nio0utun3w" path="res://animations/custom-dying-pack/custom-dying-pack.glb" id="5_5dwn7"]
[ext_resource type="AnimationLibrary" uid="uid://dooem8cdowvkb" path="res://animations/custom-jumping-falling-pack/custom-jumping-falling-pack.glb" id="6_wik1s"]
[ext_resource type="AnimationLibrary" uid="uid://cbacn6efdymri" path="res://animations/custom-locomotion-pack/custom-locomotion-pack.glb" id="7_j52m6"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="10_p3had"]

[sub_resource type="Resource" id="Resource_ibe1a"]
script = ExtResource("2_85ra8")
name = ""
current_level = 1
current_health = 100
max_health = 100
number_of_killes = 0
experiance_points = 0
is_auto_play = false

[sub_resource type="Animation" id="Animation_0gvn7"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ws2to"]
_data = {
"RESET": SubResource("Animation_0gvn7")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.273444
height = 1.81011

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.648288

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_cpgjw"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/replication_mode = 2

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound") groups=["interactable"]]
script = ExtResource("1_viqmd")
character_stats = SubResource("Resource_ibe1a")
dying_sound = NodePath("DyingSound")

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("1_5ogck")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")
libraries = {
"": SubResource("AnimationLibrary_ws2to"),
"custom-attack-punch-kick-pack": ExtResource("4_ipa2e"),
"custom-dying-pack": ExtResource("5_5dwn7"),
"custom-jumping-falling-pack": ExtResource("6_wik1s"),
"custom-locomotion-pack": ExtResource("7_j52m6")
}

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")
parameters/current_position = 0.490786
"parameters/Animation 10/current_length" = 0.966667
"parameters/Animation 10/current_position" = 0.678123
"parameters/Animation 10/current_delta" = 0.0416667
"parameters/Animation 9/current_length" = 1.4
"parameters/Animation 9/current_position" = 0.9774
"parameters/Animation 9/current_delta" = 0.0344887
parameters/TimeScale/current_position = 0.490786
parameters/jump/current_position = 0.490786
parameters/motion/current_position = 0.490786
parameters/motion/0/current_position = 4.49068
parameters/motion/0/current_delta = 0.0666667
parameters/motion/1/current_position = 0.490786
parameters/motion/5/current_position = 0.357459
parameters/motion/6/current_position = 0.257343
parameters/motion/6/current_delta = 0.0666667
parameters/motion/9/current_position = 0.690807
parameters/motion_state/current_position = 0.490786
parameters/output/current_position = 0.490786

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="GeneralSkeleton" parent="Clara/Armature" index="0"]
bones/0/position = Vector3(0.0758753, -7.38064e-09, -0.0619133)
bones/1/position = Vector3(3.75647e-06, 0.808873, 3.53561e-07)
bones/1/rotation = Quaternion(0.0749617, -0.0523418, -0.0122039, 0.995737)
bones/2/rotation = Quaternion(0.128406, 0.0774172, 0.0123855, 0.988618)
bones/3/rotation = Quaternion(-0.0258904, 0.00772962, 0.0101238, 0.999584)
bones/4/rotation = Quaternion(-0.0261092, 0.00664038, 0.0114792, 0.999571)
bones/5/rotation = Quaternion(0.00511587, -0.00965196, -0.0254134, 0.999617)
bones/6/rotation = Quaternion(-0.169752, -0.0128574, -0.00672867, 0.98538)
bones/17/rotation = Quaternion(0.484453, 0.476204, 0.581929, -0.447094)
bones/18/rotation = Quaternion(-0.262647, 0.780997, -0.483552, -0.29536)
bones/19/rotation = Quaternion(0.465597, -0.570378, 0.358607, 0.573838)
bones/20/rotation = Quaternion(0.022957, 0.672748, 0.0225409, 0.739172)
bones/21/rotation = Quaternion(-0.20899, 0.685616, 0.14904, 0.681206)
bones/22/rotation = Quaternion(0.0647062, 0.0287777, 0.0320601, 0.996974)
bones/23/rotation = Quaternion(0.0168029, 0.0132833, -0.0146261, 0.999664)
bones/24/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/25/rotation = Quaternion(0.0313971, 0.000110378, -0.00152872, 0.999506)
bones/26/rotation = Quaternion(0.0922707, -0.000566236, -0.00762431, 0.995705)
bones/27/rotation = Quaternion(0.0118894, -7.8733e-07, -0.00136661, 0.999928)
bones/29/rotation = Quaternion(0.0355597, -0.000724803, -0.000522069, 0.999367)
bones/30/rotation = Quaternion(0.0966953, -0.000529766, -0.00674713, 0.995291)
bones/31/rotation = Quaternion(0.0118926, -1.74961e-05, -0.00133854, 0.999928)
bones/33/rotation = Quaternion(0.0360291, -0.00224553, -0.00191866, 0.999346)
bones/34/rotation = Quaternion(0.0972135, -9.04917e-05, -0.00710385, 0.995238)
bones/35/rotation = Quaternion(0.065374, -0.000268536, -0.00715777, 0.997835)
bones/37/rotation = Quaternion(0.0340235, -0.00306336, -0.0367139, 0.998742)
bones/38/rotation = Quaternion(0.0991697, 0.00374234, 0.0272199, 0.994691)
bones/39/rotation = Quaternion(0.0653673, -1.40926e-05, -0.0072234, 0.997835)
bones/45/rotation = Quaternion(0.507592, -0.475549, -0.552927, -0.458775)
bones/46/rotation = Quaternion(0.042387, 0.87309, -0.485698, -0.00371511)
bones/47/rotation = Quaternion(0.489843, 0.552992, -0.377587, 0.558285)
bones/48/rotation = Quaternion(0.0640797, -0.567594, -0.277547, 0.772462)
bones/49/rotation = Quaternion(-0.218367, -0.703917, -0.0938556, 0.669334)
bones/50/rotation = Quaternion(0.0717807, -0.0575307, -0.0112786, 0.995696)
bones/51/rotation = Quaternion(0.00329271, -0.0210211, 0.0345963, 0.999175)
bones/52/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/53/rotation = Quaternion(0.0344409, 0.00060645, 0.00328153, 0.999401)
bones/54/rotation = Quaternion(0.153566, 0.00123663, 0.0154109, 0.988017)
bones/55/rotation = Quaternion(0.0135422, -6.86668e-05, 0.00154064, 0.999907)
bones/57/rotation = Quaternion(0.036394, 0.000925629, 0.0027397, 0.999333)
bones/58/rotation = Quaternion(0.154817, 0.00143044, 0.0141222, 0.987841)
bones/59/rotation = Quaternion(0.013553, 3.38542e-05, 0.0014453, 0.999907)
bones/61/rotation = Quaternion(0.0372087, 0.00031289, 0.00236866, 0.999305)
bones/62/rotation = Quaternion(0.156203, -0.000232051, 0.0140035, 0.987626)
bones/63/rotation = Quaternion(0.0135479, 6.77401e-05, 0.00149073, 0.999907)
bones/65/rotation = Quaternion(0.0364901, 0.000114989, 0.00166014, 0.999333)
bones/66/rotation = Quaternion(0.158909, -0.000327299, 0.012603, 0.987213)
bones/67/rotation = Quaternion(0.0151613, 1.18676e-05, 0.00159816, 0.999884)
bones/72/rotation = Quaternion(0.111608, -0.245516, 0.962945, -0.00136026)
bones/73/rotation = Quaternion(-0.0381007, 0.310118, -0.947637, 0.066023)
bones/74/rotation = Quaternion(-0.00896177, 0.223859, -0.974572, 0.00412744)
bones/75/rotation = Quaternion(-0.000662991, 0.999984, 0.00550123, 0.000990696)
bones/77/rotation = Quaternion(-0.0255661, 0.258457, 0.964521, -0.0473783)
bones/78/rotation = Quaternion(-0.0138055, 0.925387, -0.376096, 0.0449422)
bones/79/rotation = Quaternion(-0.0260377, 0.614098, -0.784752, 0.0798171)
bones/80/rotation = Quaternion(-0.00428201, 0.99499, 0.0998014, 0.00402002)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Clara/Armature/GeneralSkeleton" index="4"]
transform = Transform3D(0.999595, -0.01429, 0.0246245, 0.0135949, 0.999511, 0.028166, -0.0250149, -0.0278198, 0.9993, 0.05435, 1.32902, 0.091018)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="Clara/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813782, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." node_paths=PackedStringArray("character") instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")
character = NodePath("..")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("9_ohuyf")]
process_mode = 3
follow_node = NodePath("../Clara/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_r2hkv")

[node name="LevelUpEffect" parent="." instance=ExtResource("10_p3had")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.08608, 0)
billboard = 2
text = "Name"

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_cpgjw")

[editable path="CharacterAnimations"]
[editable path="Clara"]
