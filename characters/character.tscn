[gd_scene load_steps=22 format=3 uid="uid://cfn7ocuss05kg"]

[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="1_5ogck"]
[ext_resource type="Script" path="res://characters/character.gd" id="1_viqmd"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_85ra8"]
[ext_resource type="PackedScene" uid="uid://bsjopd8rbl3xg" path="res://characters/clara/Clara.glb" id="2_uncqv"]
[ext_resource type="AudioStream" uid="uid://pmcht61tl7qt" path="res://sound/effects/dying/386030__taramg__deathgroan003.wav" id="3_r2hkv"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_5agvn"]
[ext_resource type="AnimationLibrary" uid="uid://crw5ru71bh6xc" path="res://animations/custom-attack-punch-kick-pack/custom-attack-punch-kick-pack.glb" id="4_ipa2e"]
[ext_resource type="AnimationLibrary" uid="uid://cr5nio0utun3w" path="res://animations/custom-dying-pack/custom-dying-pack.glb" id="5_5dwn7"]
[ext_resource type="AnimationLibrary" uid="uid://dooem8cdowvkb" path="res://animations/custom-jumping-falling-pack/custom-jumping-falling-pack.glb" id="6_wik1s"]
[ext_resource type="AnimationLibrary" uid="uid://cbacn6efdymri" path="res://animations/custom-locomotion-pack/custom-locomotion-pack.glb" id="7_j52m6"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="9_ohuyf"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="10_p3had"]

[sub_resource type="Resource" id="Resource_ibe1a"]
script = ExtResource("2_85ra8")
name = ""
current_level = 1
current_health = 100
max_health = 100
number_of_killes = 0
experiance_points = 0
is_auto_play = false

[sub_resource type="Animation" id="Animation_0gvn7"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ws2to"]
_data = {
"RESET": SubResource("Animation_0gvn7")
}

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.273444
height = 1.81011

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.69743
radius = 0.648288

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_cpgjw"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 2
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/replication_mode = 2

[node name="Character" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound") groups=["interactable"]]
script = ExtResource("1_viqmd")
character_stats = SubResource("Resource_ibe1a")
dying_sound = NodePath("DyingSound")

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("1_5ogck")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../Clara")
root_motion_track = NodePath("%GeneralSkeleton:Root")
libraries = {
"": SubResource("AnimationLibrary_ws2to"),
"custom-attack-punch-kick-pack": ExtResource("4_ipa2e"),
"custom-dying-pack": ExtResource("5_5dwn7"),
"custom-jumping-falling-pack": ExtResource("6_wik1s"),
"custom-locomotion-pack": ExtResource("7_j52m6")
}

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../Clara")

[node name="RootMotionView" type="RootMotionView" parent="."]
animation_path = NodePath("../CharacterAnimations/AnimationTree")

[node name="Clara" parent="." instance=ExtResource("2_uncqv")]

[node name="GeneralSkeleton" parent="Clara/Armature" index="0"]
bones/0/position = Vector3(-0.00523728, 1.63799e-10, 0.00137404)
bones/1/position = Vector3(2.3582e-06, 0.824791, 2.18432e-07)
bones/1/rotation = Quaternion(0.0836377, -0.0291654, -0.00488209, 0.996057)
bones/2/rotation = Quaternion(0.0378128, 0.139465, -0.00589318, 0.989487)
bones/3/rotation = Quaternion(-0.00421565, 0.0176226, 0.00268696, 0.999832)
bones/4/rotation = Quaternion(-0.00444329, 0.0172069, 0.00437964, 0.999833)
bones/5/rotation = Quaternion(0.0390811, -0.028737, -0.0250739, 0.998508)
bones/6/rotation = Quaternion(-0.138952, -0.102401, 0.0123892, 0.984913)
bones/17/rotation = Quaternion(0.474817, 0.488236, 0.569523, -0.460237)
bones/18/rotation = Quaternion(-0.405911, 0.741319, -0.366609, -0.388947)
bones/19/rotation = Quaternion(0.506161, -0.542477, 0.389942, 0.545404)
bones/20/rotation = Quaternion(-0.0207061, 0.599233, -0.0421666, 0.799195)
bones/21/rotation = Quaternion(-0.221119, 0.680704, 0.161541, 0.67945)
bones/22/rotation = Quaternion(0.0435043, 0.0261525, 0.0278746, 0.998322)
bones/23/rotation = Quaternion(0.00621659, 0.0118835, -0.0168396, 0.999768)
bones/24/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/25/rotation = Quaternion(0.057882, 9.46003e-05, -0.00454356, 0.998313)
bones/26/rotation = Quaternion(0.118456, -0.000636105, -0.01075, 0.992901)
bones/27/rotation = Quaternion(0.0252647, -1.8061e-06, -0.00290389, 0.999677)
bones/29/rotation = Quaternion(0.0620496, -0.000733992, -0.00351921, 0.998067)
bones/30/rotation = Quaternion(0.122874, -0.000651438, -0.00980154, 0.992374)
bones/31/rotation = Quaternion(0.0252716, -3.71465e-05, -0.00284431, 0.999677)
bones/33/rotation = Quaternion(0.0625289, -0.00217325, -0.00490123, 0.998029)
bones/34/rotation = Quaternion(0.123398, -0.000169594, -0.0100526, 0.992306)
bones/35/rotation = Quaternion(0.0787244, -0.000323476, -0.00861949, 0.996859)
bones/37/rotation = Quaternion(0.0605095, -0.00205704, -0.0397453, 0.997374)
bones/38/rotation = Quaternion(0.125335, 0.00454557, 0.024187, 0.991809)
bones/39/rotation = Quaternion(0.0787164, -1.69977e-05, -0.00869854, 0.996859)
bones/45/rotation = Quaternion(0.497338, -0.486947, -0.539648, -0.47362)
bones/46/rotation = Quaternion(-0.028379, 0.895288, -0.444567, 0.00385336)
bones/47/rotation = Quaternion(0.674066, 0.36954, -0.51946, 0.373144)
bones/48/rotation = Quaternion(-0.231499, -0.719106, 0.0195444, 0.654915)
bones/49/rotation = Quaternion(-0.171121, -0.731819, -0.0647795, 0.656477)
bones/50/rotation = Quaternion(0.0613661, -0.055155, -0.00879071, 0.996552)
bones/51/rotation = Quaternion(-0.00194577, -0.0196836, 0.0358526, 0.999161)
bones/52/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/53/rotation = Quaternion(0.0342217, 0.000594913, 0.00330768, 0.999409)
bones/54/rotation = Quaternion(0.153474, 0.00122958, 0.015421, 0.988032)
bones/55/rotation = Quaternion(0.0135423, -6.86334e-05, 0.00154059, 0.999907)
bones/57/rotation = Quaternion(0.0363662, 0.000922501, 0.00274231, 0.999334)
bones/58/rotation = Quaternion(0.154709, 0.00142275, 0.0141325, 0.987858)
bones/59/rotation = Quaternion(0.0135529, 3.37592e-05, 0.00144525, 0.999907)
bones/61/rotation = Quaternion(0.0360596, 0.00031082, 0.00226105, 0.999347)
bones/62/rotation = Quaternion(0.156055, -0.000231849, 0.0140139, 0.987649)
bones/63/rotation = Quaternion(0.0135479, 6.76609e-05, 0.00149074, 0.999907)
bones/65/rotation = Quaternion(0.0353283, 0.000108253, 0.00157111, 0.999375)
bones/66/rotation = Quaternion(0.157614, -0.000323867, 0.0124912, 0.987422)
bones/67/rotation = Quaternion(0.0127232, 9.8354e-06, 0.00134126, 0.999918)
bones/72/rotation = Quaternion(-0.0103409, 0.489643, 0.870042, -0.0562982)
bones/73/rotation = Quaternion(0.0151009, 0.82782, -0.54466, 0.133534)
bones/74/rotation = Quaternion(0.0342194, 0.714596, -0.697508, -0.0407952)
bones/75/rotation = Quaternion(-0.000824015, 0.999963, 0.0085157, 0.00078696)
bones/77/rotation = Quaternion(-0.036823, -0.205956, 0.977713, -0.0174501)
bones/78/rotation = Quaternion(0.0458529, 0.967165, -0.239903, 0.0702516)
bones/79/rotation = Quaternion(0.0724875, 0.824193, -0.554721, -0.0879568)
bones/80/rotation = Quaternion(-0.000876685, 0.997163, 0.0738215, 0.0146887)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Clara/Armature/GeneralSkeleton" index="4"]
transform = Transform3D(0.999342, 0.0114835, 0.0343911, -0.0108415, 0.999765, -0.0187945, -0.0345988, 0.0184093, 0.999232, -0.00220517, 1.35439, 0.116291)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="Clara/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.884513, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="." groups=["interactable"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813782, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." node_paths=PackedStringArray("character") instance=ExtResource("4_5agvn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.89053, 0)
texture = SubResource("ViewportTexture_rh5lm")
character = NodePath("..")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("9_ohuyf")]
process_mode = 3
follow_node = NodePath("../Clara/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_r2hkv")

[node name="LevelUpEffect" parent="." instance=ExtResource("10_p3had")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.08608, 0)
billboard = 2
text = "Name"

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_cpgjw")

[editable path="CharacterAnimations"]
[editable path="Clara"]
