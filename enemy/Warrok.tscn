[gd_scene load_steps=17 format=3 uid="uid://b2l1vj4n6hnhl"]

[ext_resource type="Script" path="res://characters/character.gd" id="1_it3re"]
[ext_resource type="PackedScene" uid="uid://b5ueref4pofyp" path="res://characters/warrok/warrok-t-post-with-root-bone.glb" id="2_6es7q"]
[ext_resource type="Script" path="res://characters/character_stats.gd" id="2_atdus"]
[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="3_35rhl"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_ddsfh"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="5_svdwt"]
[ext_resource type="AudioStream" uid="uid://bnvpi1gr14gwf" path="res://sound/effects/dying/37823__the_bizniss__demon-dying.wav" id="7_ahvch"]
[ext_resource type="PackedScene" uid="uid://vkwy58ucg8xi" path="res://effects/level_up/level_up_effect.tscn" id="8_sjtxv"]

[sub_resource type="Resource" id="Resource_htka7"]
script = ExtResource("2_atdus")
name = "Ememy"
current_level = 1
current_health = 100
max_health = 100
number_of_killes = 0
experiance_points = 0
is_auto_play = false

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.522308
height = 2.24918

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 2.53433
radius = 4.74196

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_06p8q"]
radius = 0.792494
height = 2.33979

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 2.3645
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[sub_resource type="AudioStreamPolyphonic" id="AudioStreamPolyphonic_phl2x"]

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_ttyxh"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/replication_mode = 1

[node name="Warrok" type="CharacterBody3D" node_paths=PackedStringArray("dying_sound") groups=["interactable"]]
script = ExtResource("1_it3re")
character_stats = SubResource("Resource_htka7")
dying_sound = NodePath("DyingSound")

[node name="warrok-t-post-with-root-bone" parent="." instance=ExtResource("2_6es7q")]

[node name="GeneralSkeleton" parent="warrok-t-post-with-root-bone/Armature" index="0"]
bones/0/position = Vector3(-1.41659e-07, 2.26123e-12, 1.89686e-05)
bones/1/position = Vector3(2.34249e-06, 0.941103, 2.27243e-07)
bones/1/rotation = Quaternion(-0.0297372, -0.0686039, -0.0336657, 0.996632)
bones/2/rotation = Quaternion(-0.0114221, -0.00156044, 0.0345884, 0.999335)
bones/3/rotation = Quaternion(-0.0029736, -0.00833207, 0.0441714, 0.998985)
bones/4/rotation = Quaternion(-0.00268968, -0.00990683, 0.0438997, 0.998983)
bones/5/rotation = Quaternion(0.0270744, -0.000211014, -0.0254852, 0.999309)
bones/6/rotation = Quaternion(0.0363072, 0.00614086, -0.0711375, 0.996787)
bones/7/position = Vector3(-6.82142e-12, 0.156007, 0.075535)
bones/11/rotation = Quaternion(0.558578, 0.437213, 0.51225, -0.484184)
bones/12/rotation = Quaternion(0.0188681, 0.776067, -0.618102, -0.123751)
bones/13/rotation = Quaternion(0.0979921, -0.700275, 0.097992, 0.700293)
bones/14/rotation = Quaternion(0.0788554, 0.699606, -0.00269509, 0.710159)
bones/15/rotation = Quaternion(-0.154906, 0.734731, 0.104903, 0.652051)
bones/16/rotation = Quaternion(0.184734, 0.0561374, -0.0106076, 0.981127)
bones/17/rotation = Quaternion(0.164727, 0.0323959, 0.0383239, 0.985062)
bones/18/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/19/rotation = Quaternion(0.0644483, -0.000422567, -0.00117478, 0.99792)
bones/20/rotation = Quaternion(0.223099, -3.12924e-06, -0.0270291, 0.974421)
bones/21/rotation = Quaternion(0.141237, -1.93715e-06, -0.0171112, 0.989828)
bones/23/rotation = Quaternion(0.100137, -1.0252e-05, -0.012042, 0.994901)
bones/24/rotation = Quaternion(0.247171, -2.45869e-06, -0.0299454, 0.968509)
bones/25/rotation = Quaternion(0.193741, -2.11596e-06, -0.0234722, 0.980772)
bones/27/rotation = Quaternion(0.126676, -0.000524402, -0.0112249, 0.991881)
bones/28/rotation = Quaternion(0.300704, -5.42157e-06, -0.0364311, 0.953021)
bones/29/rotation = Quaternion(0.233524, -4.25436e-06, -0.0282922, 0.971939)
bones/31/rotation = Quaternion(0.146584, 0.00249233, -0.0340947, 0.988607)
bones/32/rotation = Quaternion(0.204512, 0.00709978, 0.0103966, 0.978783)
bones/33/rotation = Quaternion(0.39147, -1.53236e-06, -0.0474278, 0.918968)
bones/35/rotation = Quaternion(0.53965, -0.447519, -0.562308, -0.438536)
bones/36/rotation = Quaternion(0.0398033, 0.868738, -0.484374, 0.0953555)
bones/37/rotation = Quaternion(0.0700942, 0.70363, -0.0700942, 0.703618)
bones/38/rotation = Quaternion(0.00429977, -0.625343, 0.0210188, 0.780055)
bones/39/rotation = Quaternion(-0.171496, -0.685223, -0.120965, 0.697442)
bones/40/rotation = Quaternion(0.156422, -0.141843, -0.00427429, 0.977443)
bones/41/rotation = Quaternion(0.131122, -0.0062033, 0.00133497, 0.991346)
bones/42/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/43/rotation = Quaternion(0.0787913, 0.000180882, 0.00732064, 0.996864)
bones/44/rotation = Quaternion(0.137951, -1.7757e-06, 0.0168724, 0.990295)
bones/45/rotation = Quaternion(0.0918067, -1.19766e-06, 0.0112286, 0.995714)
bones/47/rotation = Quaternion(0.0926166, 3.71638e-06, 0.0112752, 0.995638)
bones/48/rotation = Quaternion(0.233487, -2.86197e-06, 0.0285571, 0.971941)
bones/49/rotation = Quaternion(0.0258573, -5.52567e-05, 0.0031611, 0.999661)
bones/51/rotation = Quaternion(0.129132, -0.000167551, 0.0170434, 0.991481)
bones/52/rotation = Quaternion(0.263609, -1.21639e-06, 0.0322413, 0.964091)
bones/53/rotation = Quaternion(0.129308, -5.2161e-05, 0.0158084, 0.991479)
bones/55/rotation = Quaternion(0.136509, 0.000306419, 0.0144437, 0.990534)
bones/56/rotation = Quaternion(0.241938, 7.9304e-07, 0.0295908, 0.969841)
bones/57/rotation = Quaternion(0.181247, -3.26079e-06, 0.0221679, 0.983188)
bones/59/rotation = Quaternion(-0.5, 0.5, -0.5, 0.5)
bones/64/rotation = Quaternion(0.139927, 0.16671, 0.968067, -0.124396)
bones/65/rotation = Quaternion(-0.0272295, 0.988631, -0.145183, -0.0280868)
bones/66/rotation = Quaternion(-0.0692608, 0.740489, -0.666819, 0.0472399)
bones/67/rotation = Quaternion(0.000386744, 0.9998, -0.0199549, -0.000876464)
bones/69/rotation = Quaternion(-0.0811022, 0.0187816, 0.995054, -0.0542032)
bones/70/rotation = Quaternion(-0.00305971, 0.981316, -0.187041, -0.0450041)
bones/71/rotation = Quaternion(-0.0140993, 0.59963, -0.800101, 0.00914626)
bones/72/rotation = Quaternion(3.26158e-05, 0.999999, 0.00175523, -7.80594e-05)
bones/74/rotation = Quaternion(1, -8.20518e-07, -1.36966e-08, -1.33479e-07)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="warrok-t-post-with-root-bone/Armature/GeneralSkeleton" index="1"]
transform = Transform3D(0.988726, 0.00361396, -0.14969, -0.00830868, 0.999493, -0.0307497, 0.149502, 0.0316467, 0.988255, -0.135064, 1.91998, 0.186554)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="warrok-t-post-with-root-bone/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CharacterAnimations" parent="." node_paths=PackedStringArray("character") instance=ExtResource("3_35rhl")]
character = NodePath("..")

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../warrok-t-post-with-root-bone")
root_motion_track = NodePath("%GeneralSkeleton:Root")

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../warrok-t-post-with-root-bone")

[node name="RootMotionView" type="RootMotionView" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.10555, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.938594, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.16302, 0.212281)
shape = SubResource("CapsuleShape3D_06p8q")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.856675, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." instance=ExtResource("4_ddsfh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.23699, 0)
texture = SubResource("ViewportTexture_rh5lm")

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("5_svdwt")]
follow_node = NodePath("../warrok-t-post-with-root-bone/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamPolyphonic_phl2x")
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("7_ahvch")

[node name="LevelUpEffect" parent="." instance=ExtResource("8_sjtxv")]

[node name="Name" type="Label3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.38608, 0)
billboard = 2
text = "Name"

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_ttyxh")

[connection signal="input_event" from="." to="." method="_on_input_event"]

[editable path="warrok-t-post-with-root-bone"]
[editable path="CharacterAnimations"]
