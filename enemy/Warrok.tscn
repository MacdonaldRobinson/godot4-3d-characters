[gd_scene load_steps=12 format=3 uid="uid://b2l1vj4n6hnhl"]

[ext_resource type="Script" path="res://characters/character.gd" id="1_it3re"]
[ext_resource type="PackedScene" uid="uid://b5ueref4pofyp" path="res://characters/warrok/warrok-t-post-with-root-bone.glb" id="2_6es7q"]
[ext_resource type="PackedScene" uid="uid://phuytkofmlld" path="res://characters/character_animations/character_animations.tscn" id="3_35rhl"]
[ext_resource type="PackedScene" uid="uid://cb3t1tufdkhwr" path="res://ui/health-bar-3d/health_bar_3d.tscn" id="4_ddsfh"]
[ext_resource type="PackedScene" uid="uid://bdxfq0dsupr3v" path="res://camera-controller/camera-controller.tscn" id="5_svdwt"]
[ext_resource type="AudioStream" uid="uid://bnvpi1gr14gwf" path="res://sound/effects/dying/37823__the_bizniss__demon-dying.wav" id="7_ahvch"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0xrp7"]
radius = 0.522308
height = 2.24918

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rgjuf"]
height = 1.307
radius = 4.74196

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6uh1o"]
height = 1.63078
radius = 0.715021

[sub_resource type="CylinderShape3D" id="CylinderShape3D_x7jhx"]
height = 1.00929
radius = 3.39317

[sub_resource type="ViewportTexture" id="ViewportTexture_rh5lm"]
viewport_path = NodePath("SubViewport")

[node name="Warrok" type="CharacterBody3D" node_paths=PackedStringArray("camera_lookat_point")]
script = ExtResource("1_it3re")
camera_lookat_point = NodePath("warrok-t-post-with-root-bone/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")

[node name="warrok-t-post-with-root-bone" parent="." instance=ExtResource("2_6es7q")]

[node name="GeneralSkeleton" parent="warrok-t-post-with-root-bone/Armature" index="0"]
bones/1/position = Vector3(2.25195e-06, 0.942135, 3.78117e-07)
bones/1/rotation = Quaternion(-0.0331135, -0.0679826, -0.0366086, 0.996465)
bones/2/rotation = Quaternion(-0.00417393, -0.00398466, 0.0420367, 0.999099)
bones/3/rotation = Quaternion(0.0190549, -0.0111707, 0.0527182, 0.998365)
bones/4/rotation = Quaternion(0.0194912, -0.0120679, 0.0523747, 0.998364)
bones/5/rotation = Quaternion(0.0490531, 0.00540926, -0.0300554, 0.998329)
bones/6/rotation = Quaternion(-0.00748597, 0.0332796, -0.0925337, 0.995125)
bones/11/rotation = Quaternion(0.549517, 0.440503, 0.547429, -0.452006)
bones/12/rotation = Quaternion(0.0609279, 0.775738, -0.613507, -0.134636)
bones/13/rotation = Quaternion(0.0817449, -0.702359, 0.0817449, 0.702373)
bones/14/rotation = Quaternion(0.0951248, 0.70224, 0.0231395, 0.705177)
bones/15/rotation = Quaternion(-0.154906, 0.734731, 0.104903, 0.652051)
bones/16/rotation = Quaternion(0.184734, 0.0561372, -0.0106077, 0.981127)
bones/17/rotation = Quaternion(0.164727, 0.032396, 0.0383239, 0.985062)
bones/18/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/19/rotation = Quaternion(0.0644482, -0.000422582, -0.00117481, 0.99792)
bones/20/rotation = Quaternion(0.223099, -3.11434e-06, -0.0270291, 0.974421)
bones/21/rotation = Quaternion(0.141237, -1.93715e-06, -0.0171112, 0.989828)
bones/23/rotation = Quaternion(0.100137, -1.02073e-05, -0.012042, 0.994901)
bones/24/rotation = Quaternion(0.247171, -2.38419e-06, -0.0299454, 0.968509)
bones/25/rotation = Quaternion(0.193741, -1.98185e-06, -0.0234723, 0.980772)
bones/27/rotation = Quaternion(0.137105, -0.000567444, -0.0124954, 0.990478)
bones/28/rotation = Quaternion(0.346936, -6.10948e-06, -0.0420324, 0.936947)
bones/29/rotation = Quaternion(0.280762, -4.96782e-06, -0.0340153, 0.959174)
bones/31/rotation = Quaternion(0.176475, 0.00300017, -0.0376652, 0.98358)
bones/32/rotation = Quaternion(0.259352, 0.00904701, 0.00328397, 0.965735)
bones/33/rotation = Quaternion(0.442682, -1.56462e-06, -0.0536326, 0.895074)
bones/35/rotation = Quaternion(0.518737, -0.459795, -0.59398, -0.408275)
bones/36/rotation = Quaternion(0.0253825, 0.873618, -0.471263, 0.118564)
bones/37/rotation = Quaternion(0.0764085, 0.702973, -0.0764087, 0.70296)
bones/38/rotation = Quaternion(0.0140298, -0.627753, 0.025972, 0.777853)
bones/39/rotation = Quaternion(-0.187119, -0.686903, -0.123866, 0.691237)
bones/40/rotation = Quaternion(0.194671, -0.113419, -0.0378286, 0.973555)
bones/41/rotation = Quaternion(0.111643, -0.0476682, -0.0342087, 0.992015)
bones/42/scale = Vector3(1.00058, 1.00049, 1.00015)
bones/43/rotation = Quaternion(0.073074, 0.000462498, 0.0025427, 0.997323)
bones/44/rotation = Quaternion(0.174379, -2.1674e-06, 0.0213278, 0.984448)
bones/45/rotation = Quaternion(0.0923671, -1.3031e-06, 0.0112973, 0.995661)
bones/47/rotation = Quaternion(0.0844411, 6.31859e-06, 0.0102405, 0.996376)
bones/48/rotation = Quaternion(0.273502, -3.53112e-06, 0.0334514, 0.96129)
bones/49/rotation = Quaternion(0.163085, -7.03321e-05, 0.0199351, 0.986411)
bones/51/rotation = Quaternion(0.161887, -0.000755347, 0.0243637, 0.986508)
bones/52/rotation = Quaternion(0.323591, -1.65403e-06, 0.0395777, 0.945369)
bones/53/rotation = Quaternion(0.318491, -6.07065e-05, 0.0389336, 0.947126)
bones/55/rotation = Quaternion(0.208901, 0.000708002, 0.022214, 0.977684)
bones/56/rotation = Quaternion(0.270984, 8.69883e-07, 0.0331433, 0.962013)
bones/57/rotation = Quaternion(0.465462, -8.39373e-06, 0.0569295, 0.883235)
bones/64/rotation = Quaternion(0.141257, 0.167358, 0.967854, -0.123679)
bones/65/rotation = Quaternion(-0.0254153, 0.988518, -0.146115, -0.0289218)
bones/66/rotation = Quaternion(-0.0638031, 0.742104, -0.665809, 0.0436964)
bones/67/rotation = Quaternion(0.000393942, 0.999793, -0.0203266, -0.000892777)
bones/69/rotation = Quaternion(-0.0793274, 0.0194492, 0.995141, -0.0549866)
bones/70/rotation = Quaternion(0.00029737, 0.981245, -0.18676, -0.0477321)
bones/71/rotation = Quaternion(-0.0102383, 0.604048, -0.796854, 0.00672291)
bones/72/rotation = Quaternion(2.19914e-05, 0.999999, 0.00117796, -5.23631e-05)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="warrok-t-post-with-root-bone/Armature/GeneralSkeleton" index="1"]
transform = Transform3D(0.996584, 0.00429878, -0.082472, -0.0106228, 0.997021, -0.0763971, 0.0818979, 0.0770123, 0.993661, -0.169259, 1.88467, 0.24772)
bone_name = "Head"
bone_idx = 6

[node name="CameraLookAtPoint" type="Node3D" parent="warrok-t-post-with-root-bone/Armature/GeneralSkeleton/BoneAttachment3D"]
transform = Transform3D(0.997102, -0.0172903, 0.0740864, 0.00976116, 0.994858, 0.100808, -0.0754484, -0.0997927, 0.992144, 0.0631784, 0.120076, 0.0120412)

[node name="CharacterAnimations" parent="." instance=ExtResource("3_35rhl")]

[node name="AnimationPlayer" parent="CharacterAnimations" index="0"]
root_node = NodePath("../../warrok-t-post-with-root-bone")

[node name="AnimationTree" parent="CharacterAnimations" index="1"]
root_node = NodePath("../../warrok-t-post-with-root-bone")
parameters/current_position = 2.58923
parameters/current_delta = 0.0166667
"parameters/Animation 3/current_position" = 2.04343
"parameters/Animation 3/current_delta" = 0.0180556
parameters/TimeScale/current_position = 2.58923
parameters/TimeScale/current_delta = 0.0166667
parameters/jump/current_position = 2.58923
parameters/jump/current_delta = 0.0166667
parameters/motion/current_position = 2.58923
parameters/motion/current_delta = 0.0166667
parameters/motion/0/current_position = 2.58923
parameters/motion/0/current_delta = 0.0166667
parameters/motion/1/current_position = 0.0
parameters/motion/1/current_delta = 0.508954
parameters/motion/5/current_position = 0.0
parameters/motion/5/current_delta = 0.175622
parameters/motion/6/current_position = 0.855899
parameters/motion/6/current_delta = 0.0166667
parameters/motion/9/current_position = 0.455899
parameters/motion/9/current_delta = 0.0166667
parameters/motion_attack/current_position = 2.04343
parameters/motion_attack/current_delta = 0.0180556
parameters/motion_state/current_position = 2.58923
parameters/motion_state/current_delta = 0.0166667
parameters/output/current_position = 2.58923
parameters/output/current_delta = 0.0166667

[node name="RootMotionView" type="RootMotionView" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.10555, 0)
shape = SubResource("CapsuleShape3D_0xrp7")

[node name="FloorCheckRayCast" type="RayCast3D" parent="."]

[node name="AlertArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AlertArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.712344, 0)
shape = SubResource("CylinderShape3D_rgjuf")

[node name="InteractArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.813596, 0.212281)
shape = SubResource("CylinderShape3D_6uh1o")

[node name="FollowArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="FollowArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.662804, 0)
shape = SubResource("CylinderShape3D_x7jhx")

[node name="HealthBar" parent="." instance=ExtResource("4_ddsfh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.23699, 0)
texture = SubResource("ViewportTexture_rh5lm")
max_health = 100
current_health = 100

[node name="CameraController" parent="." node_paths=PackedStringArray("follow_node", "character") instance=ExtResource("5_svdwt")]
follow_node = NodePath("../warrok-t-post-with-root-bone/Armature/GeneralSkeleton/BoneAttachment3D/CameraLookAtPoint")
character = NodePath("..")

[node name="FootStepSound" type="AudioStreamPlayer3D" parent="."]
panning_strength = 0.5

[node name="DyingSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("7_ahvch")

[editable path="warrok-t-post-with-root-bone"]
[editable path="CharacterAnimations"]
[editable path="CameraController"]
